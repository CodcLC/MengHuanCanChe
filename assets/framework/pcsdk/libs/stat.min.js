!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Main=t():e.Main=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugIgnoreLog=!1,t.SDKVersion="v2.0.1",t.LogHost={Prod:"https://dataapi.d3games.com/v1.1",Pre:"https://pre-dataapi.d3games.com/v1.1"},t.GameKeys={Env:"env/index",Share:"share/callback",AdStat:"adStat/stat",UserLogin:"user/login",UserWeakLogin:"user/weakLogin",GetGoldPool:"user/getGoldPool",GetAllData:"baseData/getAllData",SetInviteFriend:"invite/setInviteFriend",GetPoolGoldByType:"user/getPoolGoldByType",SetLookVideoToGold:"user/setLookVideoToGold"},t.LogKeys={Dot:"log/dot",Pay:"pay/pay",AdStat:"ad/stat",Event:"log/event",Launch:"log/launch",Reg:"log/reg",Active:"log/active",Res:"datalog/res",Login:"datalog/login",Logout:"datalog/logout",LogPay:"datalog/pay",Authorize:"datalog/authorize",Level:"datalog/level",VideoStat:"video/stat",ShareStat:"share/stat",ShareList:"share/getList",GetConfig:"config/getConfig",BannerStat:"banner/stat",BannerList:"banner/getList",BannerExposure:"banner/exposure",RefuseAuth:"log/refuseAuth",LoadingFinish:"log/loadingFinish",OnlineTimelen:"log/onlineTimelen"},t.StorageKeys={SDKAdVtKey:"__pcsdk_advt_key__",SDKAdMvKey:"__pcsdk_admv_key__",SDKTokenKey:"__pcsdk_token_key__",SDKLaunchKey:"__pcsdk_launch_key__",SDKOnlienKey:"__pcsdk_online_env_key__",SDKStartUpKey:"__pcsdk_startup_key__",SDKUserShieldKey:"__pcsdk_usershield_key__"},t.ShareStat={Success:0,Enter:1},t.BannerType={TYPE_WX_GAME_RESULT:0,TYPE_WX_GAME_ING:1,TYPE_BIG:10,TYPE_HEADER:20,TYPE_CLICK_ME:30,TYPE_CROSS:40,TYPE_LIKE:50,TYPE_LIST:70,TYPE_WELFARE:80},t.ErrorCode={UnKnow:{code:1001,msg:"未知错误"},InvalidLogin:{code:1e4,msg:"登陆失效"}},t.ShareVideoError={VideoQuit:{code:1e3,msg:"要看完视频哦!"},VideoFail:{code:1001,msg:"加载视频广告失败!"},VideoInvalid:{code:999,msg:"视频UID不存在!"},VideoNotOpen:{code:1002,msg:"微信版本过低，暂不支持看视频!"},VideoPlaying:{code:1003,msg:"正在观看视频中..."},ShareFail:{code:1004,msg:"失败，发给其他好友试试！"},ShareSame:{code:1005,msg:"别总骚扰这个群，换个群分享吧!"},ShareNotGroup:{code:1006,msg:"请分享到群哦!"},ShareAsyncNotGroup:{code:1007,msg:"分享到群才能领取更多~"}},t.Method={Get:"GET",Post:"POST"},t.SceneCode={WX_STORE:1104,WX_SHARE_FRIEND:1007,WX_SHARE_GROUP:1008,WX_SHARE_TICKET:1044},t.SDKDotType={Share:1001}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(8),a=n(0),u=n(7),s=n(12),c=n(9),f=n(27),l=function(){function e(){this._data=new f.default}return e.prototype.setValue=function(e,t){var n;i.default.isUndefined(t)||(this._data=r({},this._data,((n={})[e]=t,n)))},Object.defineProperty(e.prototype,"Data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype.setData=function(e){e&&0!==Object.keys(e).length&&(e.hasOwnProperty("openId")&&this.setOpenId(e.openId),e.hasOwnProperty("userId")&&this.setUserId(e.userId),e.hasOwnProperty("regTime")&&this.setRegTime(e.regTime),e.hasOwnProperty("channelId")&&this.setChannelId(e.channelId),e.hasOwnProperty("inviteUid")&&this.setUserInviteUid(e.inviteUid))},Object.defineProperty(e.prototype,"Scene",{get:function(){return this._data.scene||0},enumerable:!0,configurable:!0}),e.prototype.setScene=function(e){return this.setValue("scene",e),this},Object.defineProperty(e.prototype,"ReferrerInfo",{get:function(){return this._data.referrerInfo||{}},enumerable:!0,configurable:!0}),e.prototype.setReferrerInfo=function(e){return this.setValue("referrerInfo",e),this},Object.defineProperty(e.prototype,"Token",{get:function(){return this._data.token||c.default.I.get(a.StorageKeys.SDKTokenKey)||""},enumerable:!0,configurable:!0}),e.prototype.setToken=function(e){return this.setValue("token",e),c.default.I.set(a.StorageKeys.SDKTokenKey,e),this},Object.defineProperty(e.prototype,"OpenId",{get:function(){return this._data.openId},enumerable:!0,configurable:!0}),e.prototype.setOpenId=function(e){return this.setValue("openId",e),this},Object.defineProperty(e.prototype,"UserId",{get:function(){return this._data.userId},enumerable:!0,configurable:!0}),e.prototype.setUserId=function(e){return this.setValue("userId",e),this},Object.defineProperty(e.prototype,"RegTime",{get:function(){return this._data.regTime},enumerable:!0,configurable:!0}),e.prototype.setRegTime=function(e){return this.setValue("regTime",e),this},Object.defineProperty(e.prototype,"OnlineTime",{get:function(){return this._data.onlineTime},enumerable:!0,configurable:!0}),e.prototype.setOnlineTime=function(e){return this.setValue("onlineTime",e),this},Object.defineProperty(e.prototype,"LaunchTime",{get:function(){return this._data.launchTime},enumerable:!0,configurable:!0}),e.prototype.setLaunchTime=function(e){return this.setValue("launchTime",e),this},Object.defineProperty(e.prototype,"ShareId",{get:function(){return this._data.shareId},enumerable:!0,configurable:!0}),e.prototype.setShareId=function(e){return this.setValue("shareId",e),this},Object.defineProperty(e.prototype,"ShareKey",{get:function(){return this._data.shareKey},enumerable:!0,configurable:!0}),e.prototype.setShareKey=function(e){return this.setValue("shareKey",e),this},Object.defineProperty(e.prototype,"Platform",{get:function(){return this._data.platform},enumerable:!0,configurable:!0}),e.prototype.setPlatform=function(e){return this.setValue("platform",e),this},Object.defineProperty(e.prototype,"Gender",{get:function(){return this._data.gender},enumerable:!0,configurable:!0}),e.prototype.setGender=function(e){return this.setValue("gender",e),this},Object.defineProperty(e.prototype,"ChannelId",{get:function(){return this._data.channelId},enumerable:!0,configurable:!0}),e.prototype.setChannelId=function(e){return this.setValue("channelId",e),this},Object.defineProperty(e.prototype,"InviteType",{get:function(){return this._data.inviteType||0},enumerable:!0,configurable:!0}),e.prototype.setInviteType=function(e){return this.setValue("inviteType",e),this},Object.defineProperty(e.prototype,"QueryUserInviteUid",{get:function(){return this._data.queryUserInviteUid||0},enumerable:!0,configurable:!0}),e.prototype.setQueryUserInviteUid=function(e){return this.setValue("queryUserInviteUid",e),this},Object.defineProperty(e.prototype,"UserInviteUid",{get:function(){return this._data.inviteUid||0},enumerable:!0,configurable:!0}),e.prototype.setUserInviteUid=function(e){return this.setValue("inviteUid",e),this},Object.defineProperty(e.prototype,"Shield",{get:function(){return this._data.shield||c.default.I.get(a.StorageKeys.SDKUserShieldKey)||0},enumerable:!0,configurable:!0}),e.prototype.setShield=function(e){return this.setValue("shield",e),c.default.I.set(a.StorageKeys.SDKUserShieldKey,e),this},Object.defineProperty(e.prototype,"ShareTicket",{get:function(){return this._data.shareTicket},enumerable:!0,configurable:!0}),e.prototype.setShareTicket=function(e){return this.setValue("shareTicket",e),this},Object.defineProperty(e.prototype,"SystemId",{get:function(){return this._data.systemId},enumerable:!0,configurable:!0}),e.prototype.setSystemId=function(){var e="android"===this.Platform?1:0;return this.setValue("systemId",e),this},Object.defineProperty(e.prototype,"Authorize",{get:function(){return this._data.authorize},enumerable:!0,configurable:!0}),e.prototype.setAuthorize=function(e){return this.setValue("authorize",e),this},Object.defineProperty(e.prototype,"Version",{get:function(){return this._data.version},enumerable:!0,configurable:!0}),e.prototype.setVersion=function(e){return this.setValue("version",e),this},Object.defineProperty(e.prototype,"CdnUrl",{get:function(){return this._data.cdnUrl},enumerable:!0,configurable:!0}),e.prototype.setCdnUrl=function(e){return this.setValue("cdnUrl",e),this},Object.defineProperty(e.prototype,"EnvEnum",{get:function(){return this._data.envEnum},enumerable:!0,configurable:!0}),e.prototype.setEnvEnum=function(e){return this.setValue("envEnum",e),this},Object.defineProperty(e.prototype,"GameApi",{get:function(){return o.default.I.GamePath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LaunchKey",{get:function(){return this._data.launchKey},enumerable:!0,configurable:!0}),e.prototype.fixLaunchKey=function(e){if(e){var t=a.StorageKeys.SDKLaunchKey;c.default.I.set(t,e),this.setValue("launchKey",e)}return this},e.prototype.setLaunchKey=function(){var e=a.StorageKeys.SDKLaunchKey,t=c.default.I.get(e);return t||(t=s.default.createCode(),c.default.I.set(e,t)),this.setValue("launchKey",t),this},Object.defineProperty(e.prototype,"LaunchSource",{get:function(){return this._data.launchSource},enumerable:!0,configurable:!0}),e.prototype.setLaunchSource=function(){var e=0,t=u.default.I.getLaunchData().query;return t?t.scene?decodeURIComponent(t.scene).split("&")[1]&&(e=1):(t.user_invite_id||t.user_invite_uid||t.invite_unionid)&&(e=1):e=0,this.setValue("launchSource",e),this},Object.defineProperty(e.prototype,"ConfigParams",{get:function(){return this._data.configParams||c.default.I.get(a.StorageKeys.SDKStartUpKey)||{}},enumerable:!0,configurable:!0}),e.prototype.setConfigParams=function(e){this.setValue("configParams",e),c.default.I.set(a.StorageKeys.SDKStartUpKey,e)},Object.defineProperty(e.prototype,"FunctionPrivilege",{get:function(){return this.ConfigParams.function_privilege||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"City",{get:function(){return this.ConfigParams.city||""},enumerable:!0,configurable:!0}),Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(3),i=function(){function e(){this.isDebug=o.default.I.config.IsDebug}return Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e.prototype.setDebug=function(e){this.isDebug=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDebug&&(e.unshift("[SDK Log]"),cc.log(e[0],Array.prototype.slice.call(e,1)))},e.prototype.logExt=function(e){cc.log("%c"+e,"color:#F00;font-size:1.3em;")},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDebug&&console.error.apply(console,["【",e[0]].concat(Array.prototype.slice.call(e,1),["】"]))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDebug&&console.warn.apply(console,["【",e[0]].concat(Array.prototype.slice.call(e,1),["】"]))},e.prototype.logJson=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDebug&&(1===e.length?console.warn("【",r.default.parseJson2String(e[0])+"】"):console.warn.apply(console,["【"].concat(Array.prototype.slice.call(e,0,e.length-1),[r.default.parseJson2String(e[e.length-1])+"】"])))},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.init(e)}return e.prototype.init=function(e){this._config=Object.assign({Env:100},e)},Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),e.prototype.merge=function(e){this._config=Object.assign(this._config,e)},e.setUp=function(t){if(!t)throw new TypeError("SDK CfgManager - setUp请传递config。");this.instance=new e(t)},Object.defineProperty(e,"I",{get:function(){if(!this.instance)throw new TypeError("SDK CfgManager - 请进行初始化setUp。");return this.instance},enumerable:!0,configurable:!0}),e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),i=n(8),a=n(17),u=n(10),s=n(5),c=n(2),f=n(7),l=n(33),h=n(15),d=n(3),p=n(1),y=n(35),g=n(16),b=function(){function e(){this.exposureArr=[],this.logResArr=[],this.logLevelArr=[],this.isHandledShare=!1,this.timeoutShareId=0,this.lastReqBannerTime={},this.lastReqBannerData={}}return Object.defineProperty(e.prototype,"SystemId",{get:function(){return p.default.I.SystemId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LaunchTime",{get:function(){return p.default.I.LaunchTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OnlineTime",{get:function(){return p.default.I.OnlineTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LaunchKey",{get:function(){return p.default.I.LaunchKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LaunchSource",{get:function(){return p.default.I.LaunchSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Scene",{get:function(){return p.default.I.Scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RegTime",{get:function(){return p.default.I.RegTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"UserId",{get:function(){return p.default.I.UserId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OpenId",{get:function(){return p.default.I.OpenId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"UserInviteUid",{get:function(){return p.default.I.UserInviteUid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"QueryUserInviteUid",{get:function(){return p.default.I.QueryUserInviteUid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Shield",{get:function(){return p.default.I.Shield},enumerable:!0,configurable:!0}),e.prototype.fixLaunchKey=function(e){p.default.I.fixLaunchKey(e)},e.prototype.setLogind=function(e){c.default.I.warn("SDK LogService setLogind",e),p.default.I.setData(e)},e.prototype.dot=function(e,t){return void 0===t&&(t={}),a.default.I.dot(r({dot_type:e},t,{launch_key:this.LaunchKey}))},e.prototype.event=function(e,t,n){return void 0===n&&(n={}),a.default.I.event(r({event_key:e},n,{scene:this.Scene,user_id:this.UserId,event_source:t||"",launch_key:this.LaunchKey}))},e.prototype.launch=function(e){var t=this;return this.fixLaunchKey(e||""),this.login(1),new Promise(function(e,n){a.default.I.launch({launch_key:t.LaunchKey,launch_source:t.LaunchSource,scene:p.default.I.Scene,city:encodeURIComponent(p.default.I.City),function_privilege:p.default.I.FunctionPrivilege}).then(function(t){t&&p.default.I.setConfigParams(t),e(t)}).catch(function(e){return n(e)})})},e.prototype.loadingFinish=function(){return a.default.I.loadingFinish({launch_key:this.LaunchKey})},e.prototype.onlineTimelen=function(e){return e<=5?Promise.reject(null):a.default.I.onlineTimelen({time_len:e,user_id:this.UserId,launch_key:this.LaunchKey,launch_source:this.LaunchSource})},e.prototype.refuseAuth=function(){return a.default.I.refuseAuth({launch_key:this.LaunchKey,launch_source:this.LaunchSource})},e.prototype.reg=function(){var e=this;return this.setTimeoutShare(),new Promise(function(t,n){var r={scene:e.Scene,user_id:e.UserId,reg_time:e.RegTime,user_shield:e.Shield,user_invite_uid:e.QueryUserInviteUid};a.default.I.reg(r).then(function(n){return e.handleRegOrActive(n,t)}).catch(function(e){return n(e)})})},e.prototype.active=function(){var e=this,t={scene:this.Scene,user_id:this.UserId,reg_time:this.RegTime,user_shield:this.Shield,user_invite_uid:this.QueryUserInviteUid};return this.setTimeoutShare(),new Promise(function(n,r){a.default.I.active(t).then(function(t){return e.handleRegOrActive(t,n)}).catch(function(e){return r(e)})})},e.prototype.handleRegOrActive=function(e,t){if(e&&e.user_data){var n=e.user_data;p.default.I.setShield(n.user_shield||0);var r={};i.default.hasProperty(n,"channel_id")&&(r.channelId=n.channel_id),i.default.hasProperty(n,"reg_time")&&(r.regTime=n.reg_time),i.default.hasProperty(n,"user_invite_uid")&&(r.inviteUid=n.user_invite_uid),this.setLogind(r)}this.handleShareList(2),t(e)},e.prototype.videoStat=function(e,t){return a.default.I.videoStat({video_key:e,stat_type:t,user_id:this.UserId,reg_time:this.RegTime,user_invite_uid:this.UserInviteUid})},e.prototype.shareStat=function(e,t,n){return a.default.I.shareStat({type:n,share_id:e,stat_type:t,scene:this.Scene,user_id:this.UserId,reg_time:this.RegTime,launch_key:this.LaunchKey,user_invite_uid:this.UserInviteUid})},e.prototype.shareList=function(){return a.default.I.shareList({scene:this.Scene,user_id:this.UserId,user_shield:this.Shield,function_privilege:p.default.I.FunctionPrivilege})},e.prototype.addExposure=function(e,t){if(t){var n=i.default.covertArray(t);n=n.map(function(t){return{id:t.banner_id,local:e}}),this.exposureArr=this.exposureArr.concat(n),g.default.I.add(g.TempDataKeys.BannerShow,n.length)}},e.prototype.bannerExposure=function(){var e=this;if(0===this.exposureArr.length)return Promise.resolve(null);var t={};this.exposureArr.forEach(function(e){var n=e.id+"_"+e.local;t[n]=t[n]||{num:0},t[n].num++});var n=[];Object.keys(t).forEach(function(e){if(i.default.hasProperty(t,e)){var r=e.split("_"),o=+r[0],a=+r[1];n.push({id:o,local:a,num:t[e].num})}});var r=o.Base64.encode(JSON.stringify(n));return a.default.I.bannerExposure({exposure_data:r,user_id:this.UserId}).then(function(){return e.exposureArr=[]})},e.prototype.bannerStat=function(e,t,n){var r=this;return new Promise(function(o,i){a.default.I.bannerStat({banner_id:e.banner_id,click_type:t,banner_location:n,user_id:r.UserId}).then(function(n){y.default.I.updateClickAd(e,t===s.BannerStat.Click),o(n)}).catch(function(e){i(e)})})},e.prototype.bannerList=function(e){var t=this;return new Promise(function(n,o){var i=t.lastReqBannerTime[e],s=t.lastReqBannerData[e];if(i&&s&&s.banner_list&&s.banner_list.length){var c=d.default.I.config.AdCacheDuration||30;if(u.default.now-i<c)return void n(s)}a.default.I.bannerList({banner_type:e,banner_system:t.SystemId}).then(function(o){var i;i=o.channel_data&&3===o.channel_data.channel_type&&0===h.default.I.getParamsInt("mp_banner_show",1)?[]:y.default.I.sortAdList(o.banner_list);var a=r({},o,{banner_list:i});t.lastReqBannerTime[e]=u.default.now,t.lastReqBannerData[e]=a,n(a)}).catch(function(e){o(e)})})},e.prototype.bannerNavigateTo=function(e,t,n){var o=this;void 0===n&&(n={});var i=r({},t);this.bannerStat(i,0,e),g.default.I.add(g.TempDataKeys.BannerClick,1),f.default.I.navigateToMiniProgram(i,n).catch(function(t){o.bannerStat(i,-1,e),g.default.I.add(g.TempDataKeys.BannerCancel,1)})},e.prototype.adStat=function(e,t){return a.default.I.adStat({launch_key:this.LaunchKey,gdt_vid:e,aid:t})},e.prototype.getConfig=function(){return a.default.I.getConfig(null,{retry:3})},e.prototype.login=function(e){var t=0===e?0:this.LaunchTime?u.default.nowTime-this.LaunchTime:0;return a.default.I.login({type:e,cost_time:t,scene:this.Scene,user_id:this.UserId,reg_time:this.RegTime,launch_key:this.LaunchKey,user_invite_uid:this.UserInviteUid})},e.prototype.logout=function(e){var t=this,n=g.default.I,r=n.getValue(g.TempDataKeys.BannerShow),o=n.getValue(g.TempDataKeys.BannerClick),i=n.getValue(g.TempDataKeys.BannerCancel),s=n.getValue(g.TempDataKeys.VideoShow),c=n.getValue(g.TempDataKeys.VideoFinish),f=n.getValue(g.TempDataKeys.ShareSuccess);return new Promise(function(l,h){var d=t.OnlineTime?u.default.nowTime-t.OnlineTime:0;a.default.I.logout({time_len:d,last_level:e,scene:t.Scene,user_id:t.UserId,reg_time:t.RegTime,launch_key:t.LaunchKey,banner_show:r,banner_click:Math.abs(o-i),video_show:s,video_finish:c,share_num:f}).then(function(e){n.reset(),l(e)}).catch(function(e){h(e)})})},e.prototype.authorize=function(e,t){var n=t.gender,r=t.city,o=t.province,i=t.country,s=t.nickName,c=this.LaunchTime?u.default.nowTime-this.LaunchTime:0;return a.default.I.authorize({last_level:e,time_len:c,gender:n,city:encodeURIComponent(r),province:encodeURIComponent(o),country:encodeURIComponent(i),nickname:encodeURIComponent(s),scene:this.Scene,user_id:this.UserId,openid:this.OpenId})},e.prototype.addLogRes=function(e){if(e){var t=i.default.covertArray(e);this.logResArr=this.logResArr.concat(t)}},e.prototype.syncLogRes=function(){var e=this;if(0===this.logResArr.length)return Promise.resolve(null);var t=this.logResArr,n=o.Base64.encode(JSON.stringify(t));return a.default.I.res({res_data:n,user_id:this.UserId}).then(function(){return e.logResArr=[]})},e.prototype.addLogLevel=function(e){if(e){var t=i.default.covertArray(e);this.logLevelArr=this.logLevelArr.concat(t)}},e.prototype.syncLogLevel=function(){var e=this;if(0===this.logLevelArr.length)return Promise.resolve(null);var t,n,u={};this.logLevelArr.forEach(function(e){n=""+e.id,u[n]=u[n]||{anum:0,rnum:0,ctime:0,first:0,type:0},t=u[n],i.default.hasProperty(e,"anum")&&(t.anum+=e.anum),i.default.hasProperty(e,"rnum")&&e.rnum&&t.rnum++,i.default.hasProperty(e,"ctime")&&(t.ctime+=e.ctime),i.default.hasProperty(e,"first")&&0===t.first&&(t.first=e.first),i.default.hasProperty(e,"type")&&(t.type=e.type),u[n]=t});var s=[];Object.keys(u).forEach(function(e){i.default.hasProperty(u,e)&&s.push(r({id:+e},u[e]))}),c.default.I.warn("SDK logLevel 关卡上报数据：",s);var f=o.Base64.encode(JSON.stringify(s));return a.default.I.level({level_data:f,user_id:this.UserId,reg_time:this.RegTime}).then(function(){return e.logLevelArr=[]})},e.prototype.logPay=function(e){return a.default.I.logPay(r({},e,{user_id:this.UserId,openid:this.OpenId}))},e.prototype.setTimeoutShare=function(){var e=this;d.default.I.config.IsUseShareModule&&(this.isHandledShare=!1,this.timeoutShareId=setTimeout(function(){return e.handleShareList(1)},500))},e.prototype.handleShareList=function(e){d.default.I.config.IsUseShareModule&&(this.isHandledShare||(this.isHandledShare=!0,l.default.I.reqShareList(),this.timeoutShareId&&clearTimeout(this.timeoutShareId)))},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=b},function(e,t,n){"use strict";var r,o,i,a,u,s;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.EnvCode||(t.EnvCode={}))[r.Prod=100]="Prod",r[r.Pre=110]="Pre",(o=t.Gender||(t.Gender={}))[o.Invalid=-1]="Invalid",o[o.Unknown=0]="Unknown",o[o.Male=1]="Male",o[o.Female=2]="Female",(i=t.BannerStat||(t.BannerStat={}))[i.Click=0]="Click",i[i.Cancel=-1]="Cancel",(a=t.ShareType||(t.ShareType={}))[a.None=-1]="None",a[a.Share=0]="Share",a[a.ShareAysnc=1]="ShareAysnc",a[a.Video=2]="Video",a[a.VideoToShare=3]="VideoToShare",a[a.VideoAndShare=4]="VideoAndShare",(u=t.ShareVideoFrom||(t.ShareVideoFrom={}))[u.None=0]="None",u[u.Share=1]="Share",u[u.ShareAysnc=2]="ShareAysnc",u[u.Video=3]="Video",(s=t.VideoStat||(t.VideoStat={}))[s.None=-1]="None",s[s.Quit=0]="Quit",s[s.Success=1]="Success",s[s.Fail=2]="Fail",s[s.Playing=3]="Playing"},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=n(13),a=n(2),u=n(1),s=function(){function e(){}return e.prototype.canIUse=function(e){return 0<=o.default.compareVersion(i.default.I.SDKVersion,e)},e.prototype.showModal=function(e){wx.showModal(e)},e.prototype.copy=function(e){return this.canIUse("1.1.0")?new Promise(function(t,n){wx.setClipboardData({data:e,success:function(e){t(e)},fail:function(){t("")}})}):Promise.reject("")},e.prototype.createBannerAd=function(e,t){return this.canIUse("2.0.4")?wx.createBannerAd({adUnitId:e,style:t}):null},e.prototype.createRewardedVideoAd=function(e){return this.canIUse("2.0.4")?wx.createRewardedVideoAd({adUnitId:e}):null},e.prototype.createFeedbackButton=function(e){return this.canIUse("2.1.2")?wx.createFeedbackButton(e):null},e.prototype.createUserInfoButton=function(e){return this.canIUse("2.0.1")?wx.createUserInfoButton(e):null},e.prototype.vibrateLong=function(){return this.canIUse("1.2.0")?new Promise(function(e,t){wx.vibrateLong({success:function(){e(1)},fail:function(){e(0)}})}):Promise.reject(null)},e.prototype.vibrateShort=function(){return this.canIUse("1.2.0")?new Promise(function(e,t){wx.vibrateShort({success:function(){e(1)},fail:function(){e(0)}})}):Promise.reject(null)},e.prototype.updateShareMenu=function(e){this.canIUse("1.2.0")&&wx.updateShareMenu({withShareTicket:e})},e.prototype.checkUpdate=function(e){if(this.canIUse("1.9.90")){var t=this,n={title:(e=e||{}).title||"更新提示",content:e.content||"新版本已经准备好，是否重启应用？",success:function(t){e.success&&e.success(t),t.confirm&&i.applyUpdate()},fail:function(t){return e.fail&&e.fail(t)},complete:function(){return e.complete&&e.complete()}};["showCancel","cancelText","cancelColor","confirmText","confirmColor"].forEach(function(t){var i;return o.default.hasProperty(e,t)&&(n=r({},n,((i={})[t]=e[t],i)))});var i=wx.getUpdateManager();i.onCheckForUpdate(function(e){a.default.I.warn("SDK WxApi updateManager onCheckForUpdate",e.hasUpdate)}),i.onUpdateReady(function(){t.showModal(n)}),i.onUpdateFailed(function(){a.default.I.warn("SDK WxApi updateManager onUpdateFailed")})}},e.prototype.showShareMenu=function(e){this.canIUse("1.1.0")&&(wx.onShareAppMessage(function(){return e}),wx.showShareMenu({}))},e.prototype.shareAppMessage=function(e){wx.shareAppMessage(e)},e.prototype.previewImage=function(e,t){return new Promise(function(n,o){e&&0!==e.length?wx.previewImage({current:e[t],urls:e,success:function(e){n(r({},e,{qrcode:1}))},fail:function(e){o(e)}}):o()})},e.prototype.navigateToMiniProgram=function(e,t,n){return void 0===n&&(n={}),new Promise(function(r,o){wx.navigateToMiniProgram({appId:e,path:t,extraData:n.extraData||{},envVersion:n.envVersion||"release",success:function(e){r(e)},fail:function(e){o(e)}})})},e.prototype.login=function(){return new Promise(function(t,n){wx.login({success:function(e){t(e.code)},fail:function(t){n(t),e.I.setAuthorize(r({errorTip:"wx.login fail"},t))}})})},e.prototype.getUserinfo=function(){return new Promise(function(t,n){wx.getUserInfo({success:function(o){if(!o)return n(o),e.I.setAuthorize(r({errorTip:"getUserInfo Success result is null"},o));t(o)},fail:function(t){n(t),e.I.setAuthorize(r({errorTip:"getUserInfo Fail"},t))}})})},e.prototype.getShareInfo=function(e){return this.canIUse("1.1.0")?new Promise(function(t,n){wx.getShareInfo({shareTicket:e,success:function(e){"getShareInfo:ok"===e.errMsg?t(e):n(e)},fail:function(e){n(e)}})}):Promise.reject(null)},e.prototype.requestMidasPayment=function(e){var t=e.mode,n=e.env,r=e.offerId,o=e.currencyType,i=e.platform,u=e.buyQuantity,s=e.zoneId;return a.default.I.warn("SDK WxApi requestMidasPayment 支付参数",{mode:t,env:n,offerId:r,currencyType:o,platform:i,buyQuantity:u,zoneId:s}),new Promise(function(e,a){wx.requestMidasPayment({mode:t,env:n,offerId:r,currencyType:o,platform:i,buyQuantity:u,zoneId:s,success:function(t){t&&"requestMidasPayment:ok"===t.errMsg?e(t):a(t)},fail:function(e){a(e)}})})},e.prototype.setAuthorize=function(e){u.default.I.setAuthorize(!1),a.default.I.warn("SDK WxApi setAuthorize: ",e)},Object.defineProperty(e,"I",{get:function(){return this._instance||(this._instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),o=function(){function e(){}return e.setUp=function(e){this.instance=new r.default,this.instance.setUp(e)},Object.defineProperty(e,"I",{get:function(){if(!this.instance)throw new TypeError("SDK Platform - 请进行初始化setUp。");return this.instance},enumerable:!0,configurable:!0}),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.isString=function(e){return"[object String]"===this.toString.call(e)},e.isFunction=function(e){return"function"==typeof e},e.isObject=function(e){return null!==e&&"[object Object]"===this.toString.call(e)},e.isArray=function(e){return"[object Array]"===this.toString.call(e)},e.isNumber=function(e){return"number"==typeof e&&isFinite(e)},e.isUndefined=function(e){return void 0===e&&"undefined"===e},e.hasProperty=function(e,t){return!!e&&e.hasOwnProperty(t)},e.trim=function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"")},e.isEmpty=function(e){return!e||void 0===e||this.isString(e)&&""===this.trim(e)||"null"===e},e.covertArray=function(e){return this.isArray(e)?e.slice():[e]},e.serializeParams=function(e){if(!e)return"";var t=encodeURIComponent;return Object.keys(e).map(function(n){return t(n)+"="+t(e[n])}).join("&")},e.compareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var r=0;r<n;r++){var o=parseInt(e[r]),i=parseInt(t[r]);if(i<o)return 1;if(o<i)return-1}return 0},e.clone=function(e){if(null===e||"object"!=typeof e)return e;if(this.isArray(e)){for(var t=e.slice(),n=0,r=t.length;n<r;n++)t[n]=this.clone(t[n]);return t}var o={};for(var i in e)o[i]=this.clone(e[i]);return o},e.merge=function(e,t,n){if(null===e||"object"!=typeof e)throw new TypeError("SDK merge() - 第一个参数必须是object, 不能为 "+typeof e+"。");if(null===t||"object"!=typeof t)throw new TypeError("SDK merge() - 第二个参数必须是object, 不能为 "+typeof t+"。");if(this.isArray(e)||this.isArray(t))throw new TypeError("SDK merge() - 不支持数组合并。");for(var r in t){var o=void 0,i=t[r];Object.prototype.hasOwnProperty.call(e,r)?n||(null!==(o=e[r])&&"object"==typeof o&&null!==i&&"object"==typeof i?this.merge(o,i,!1):e[r]=this.clone(i)):e[r]=this.clone(i)}return e},e.promisifyAsyncWrap=function(e){return function(t){return new Promise(function(n,r){var o={success:function(e){n(e)},fail:function(e){r(e)}};e(Object.assign({},o,t))})}},e.toString=Object.prototype.toString,e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.store=e}return e.setUp=function(t){this.instance=new e(t)},Object.defineProperty(e,"I",{get:function(){if(!this.instance)throw new TypeError("SDK Config - 请对StorageUtils进行setUp。");return this.instance},enumerable:!0,configurable:!0}),e.prototype.__isExpired=function(e){return!e||0<=this.timestamp-(e.timestamp+e.expiration)},Object.defineProperty(e.prototype,"timestamp",{get:function(){return+((new Date).getTime()/1e3).toFixed(0)},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t,n){void 0===n&&(n=0);var r={timestamp:this.timestamp,expiration:n,key:e,value:t};return this.store.setItem(e,JSON.stringify(r)),this},e.prototype.get=function(e){var t;try{if(!(t=this.store.getItem(e)))return null;t=JSON.parse(t)}catch(e){return console.warn(e),null}return t.expiration&&this.__isExpired(t)?(this.remove(e),null):t.value},e.prototype.remove=function(e){try{this.store.removeItem(e)}catch(e){console.warn(e)}return this},e.prototype.clear=function(){try{this.store.clear()}catch(e){console.warn(e)}return this},e.prototype.isExist=function(e){return this.store.hasKey(e)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return Object.defineProperty(e,"now",{get:function(){return Math.floor(this.nowTime/1e3)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"nowTime",{get:function(){return(new Date).getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(e,"today",{get:function(){var e=new Date(this.nowTime),t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return t+"-"+this.add(n)+"-"+this.add(r)},enumerable:!0,configurable:!0}),e.add=function(e){return e<10?"0"+e:""+e},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._events={}}return Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e.prototype.getEvents=function(){return this._events||(this._events={})},e.prototype.getListeners=function(e){var t=this.getEvents();return t[e]||(t[e]=[])},e.prototype.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},e.prototype.isValidListener=function(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&this.isValidListener(e.listener)},e.prototype.getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},Object.defineProperty(e.prototype,"onceReturnValue",{set:function(e){this._onceReturnValue=e},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e,t,n){for(var r=e.length;r--;)if(e[r].listener===t&&(!n||e[r].context===n))return r;return-1},e.prototype.add=function(e,t,n){if(!e||!e.constructor)throw new TypeError("evt must be a string");if(!this.isValidListener(t))throw new TypeError("listener must be a function");var r,o=this.getListenersAsObject(e),i="object"==typeof t;for(r in o)o.hasOwnProperty(r)&&-1===this.indexOf(o[r],t,n)&&o[r].push(i?t:{listener:t,context:n,once:!1});return this},e.prototype.once=function(e,t,n){return this.add(e,{listener:t,context:n,once:!0})},e.prototype.remove=function(e,t,n){var r,o,i=this.getListenersAsObject(e);for(o in i)i.hasOwnProperty(o)&&-1!==(r=this.indexOf(i[o],t,n))&&i[o].splice(r,1);return this},e.prototype.removeAll=function(e){var t=typeof e,n=this.getEvents();return"string"===t?delete n[e]:delete this._events,this},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o,i,a,u=this.getListenersAsObject(e);for(a in u)if(u.hasOwnProperty(a))for(r=u[a].slice(0),i=0;i<r.length;i++)!0===(o=r[i]).once&&this.remove(e,o.listener,o.context),o.listener.apply(o.context||this,t||[])===this.getOnceReturnValue()&&this.remove(e,o.listener,o.context);return this},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.trigger.apply(this,[e].concat(t))},e.prototype.defineEvent=function(e){return this.getListeners(e),this},e.prototype.defineEvents=function(e){for(var t=0,n=e.length;t<n;t++)this.defineEvent(e[t]);return this},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.toQueryPair=function(e,t,n){return void 0===n&&(n=!1),e+"="+(n?encodeURIComponent(t):t)},e.stringFormat=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(0===arguments.length)throw new Error("please give arg at least one !");if(2===arguments.length&&"object"==typeof arguments[1])for(var r in arguments[1]){var o=new RegExp("({"+r+"})","g");e=e.replace(o,arguments[1][r])}else for(var i=0;i<t.length;i++){if(void 0===t[i])return e;o=new RegExp("({["+i+"]})","g"),e=e.replace(o,t[i])}return e},e.parseJson2String=function(e,t){void 0===t&&(t={});var n,r="",o=0;return t=t||{},n=/([\{\}])/g,e=("string"!=typeof e||(e=JSON.parse(e)),e=JSON.stringify(e)).replace(n,"\r\n$1\r\n"),n=/([\[\]])/g,e=e.replace(n,"\r\n$1\r\n"),n=/(\,)/g,e=e.replace(n,"$1\r\n"),n=/(\r\n\r\n)/g,e=e.replace(n,"\r\n"),n=/\r\n\,/g,e=e.replace(n,","),t.newlineAfterColonIfBeforeBraceOrBracket||(n=/\:\r\n\{/g,e=e.replace(n,":{"),n=/\:\r\n\[/g,e=e.replace(n,":[")),t.spaceAfterColon&&(n=/\:/g,e=e.replace(n,":")),e.split("\r\n").forEach(function(e,t){var n=0,i=0,a="";for(e.match(/\{$/)||e.match(/\[$/)?i=1:e.match(/\}/)||e.match(/\]/)?0!==o&&(o-=1):i=0,n=0;n<o;n++)a+="    ";r+=a+e+"\r\n",o+=i}),r},e.createCode=function(){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=e.length,n="",r=0;r<26;r++){var o=Math.floor(Math.random()*t);n+=e.charAt(o)}return(new Date).getTime()+"-"+n},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.data=wx.getSystemInfoSync()}return Object.defineProperty(e.prototype,"SystemData",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this.data.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return this.data.platform},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){return this.data.language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"winWidth",{get:function(){return this.data.windowWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"winHeight",{get:function(){return this.data.windowHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenWidth",{get:function(){return this.data.screenWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenHeight",{get:function(){return this.data.screenHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SDKVersion",{get:function(){return this.data.SDKVersion},enumerable:!0,configurable:!0}),Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(5),i=n(3),a=n(1),u=function(){function e(){}return Object.defineProperty(e.prototype,"GameHost",{get:function(){return i.default.I.config.GameHost},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LogPath",{get:function(){var e=r.LogHost.Prod;switch(a.default.I.EnvEnum){case o.EnvCode.Prod:e=r.LogHost.Prod;break;case o.EnvCode.Pre:e=r.LogHost.Pre}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GamePath",{get:function(){var e=this.GameHost.Prod;switch(a.default.I.EnvEnum){case o.EnvCode.Prod:e=this.GameHost.Prod;break;case o.EnvCode.Pre:e=this.GameHost.Pre}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GameOnline",{get:function(){return this.GameHost.Prod},enumerable:!0,configurable:!0}),Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(1),i=n(2),a=n(9),u=n(0),s=function(){function e(){this.isDebug=!1}return Object.defineProperty(e.prototype,"OnlineKey",{get:function(){return u.StorageKeys.SDKOnlienKey.replace("env",o.default.I.EnvEnum.toString())},enumerable:!0,configurable:!0}),e.prototype.setDebugMode=function(e){this.isDebug=e},e.prototype.updateOnlineConfig=function(){var e=this;return new Promise(function(t,n){if(e.isDebug)e.reqOnlineConfig().then(function(e){return t(e)}).catch(function(e){return n(e)});else{var r=a.default.I.get(e.OnlineKey);r?(e.data=r,t(r)):e.reqOnlineConfig().then(function(e){return t(e)}).catch(function(e){return n(e)})}})},e.prototype.getParams=function(e){if(!e)return i.default.I.logExt("SDK OnlineService 请传递key！"),null;var t=this.data;return t?t.hasOwnProperty(e)?t[e]:(i.default.I.logExt("SDK OnlineService 请在后台配置在线参数key：【"+e+"】"),null):null},e.prototype.getParamsObj=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getParams(e[0]);return 2!==e.length||n?n?JSON.parse(n):n:e[1]},e.prototype.getParamsInt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getParams(e[0]);return 2!==e.length||n?+n:e[1]},e.prototype.getParamsString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getParams(e[0]);return 2!==e.length||n?n:e[1]},e.prototype.reqOnlineConfig=function(){var e=this;return new Promise(function(t,n){r.default.I.getConfig().then(function(n){e.data=n&&n.config_data,e.data&&a.default.I.set(e.OnlineKey,e.data,600),t(e.data)}).catch(function(e){n(e)})})},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=n(2),a=function(){function e(){this.reset()}return e.prototype.setValue=function(e,t){this.datas[e]=t},e.prototype.getValue=function(e){return i.default.I.warn("SDK TempService get with key",e,this.datas),this.datas[e]||0},e.prototype.add=function(e,t){void 0===t&&(t=1),this.datas[e]=this.datas[e]+t,i.default.I.warn("SDK TempService add with key",e,this.datas)},e.prototype.reset=function(){this.datas={},this.setValue(r.VideoShow,0),this.setValue(r.VideoFinish,0),this.setValue(r.BannerShow,0),this.setValue(r.BannerClick,0),this.setValue(r.BannerCancel,0),this.setValue(r.ShareSuccess,0)},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=a,(o=r=t.TempDataKeys||(t.TempDataKeys={})).VideoShow="video_show",o.VideoFinish="video_finish",o.BannerShow="banner_show",o.BannerClick="banner_click",o.BannerCancel="banner_cancel",o.ShareSuccess="share_success"},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(18),a=n(29),u=n(3),s=n(1),c=n(0),f=function(){function e(){}return Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LogPath",{get:function(){return o.default.I.LogPath},enumerable:!0,configurable:!0}),e.prototype.buidlParams=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],o=e[1];return n=r({},n,{game_id:u.default.I.config.GameId,channel_id:s.default.I.ChannelId}),n=r({},n,{sign:a.default.I.createSign(n)}),o=r({},o,{ignoreStatLog:c.DebugIgnoreLog}),e[0]=n,e[1]=o,e},e.prototype.post=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n=this.buidlParams.apply(this,n),(t=i.default.I).post.apply(t,[this.LogPath+"/"+e].concat(n))},e.prototype.dot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.Dot].concat(e))},e.prototype.event=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.Event].concat(e))},e.prototype.launch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.Launch].concat(e))},e.prototype.loadingFinish=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.LoadingFinish].concat(e))},e.prototype.refuseAuth=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.RefuseAuth].concat(e))},e.prototype.onlineTimelen=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.OnlineTimelen].concat(e))},e.prototype.reg=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.Reg].concat(e))},e.prototype.active=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.Active].concat(e))},e.prototype.videoStat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.VideoStat].concat(e))},e.prototype.shareStat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.ShareStat].concat(e))},e.prototype.shareList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.ShareList].concat(e))},e.prototype.bannerStat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.BannerStat].concat(e))},e.prototype.bannerExposure=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.BannerExposure].concat(e))},e.prototype.bannerList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.BannerList].concat(e))},e.prototype.adStat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.AdStat].concat(e))},e.prototype.getConfig=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.GetConfig].concat(e))},e.prototype.pay=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.Pay].concat(e))},e.prototype.logPay=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.LogPay].concat(e))},e.prototype.login=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.Login].concat(e))},e.prototype.logout=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.Logout].concat(e))},e.prototype.authorize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.Authorize].concat(e))},e.prototype.res=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.Res].concat(e))},e.prototype.level=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[c.LogKeys.Level].concat(e))},e}();t.default=f},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(2),a=function(){function e(){}return e.prototype.get=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.request(o.Method.Get,e,t[0],t[1])},e.prototype.post=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.request(o.Method.Post,e,t[0],t[1])},e.prototype.parseParams=function(e){return void 0===e&&(e={}),r({},e)},e.prototype.request=function(e,t,n,r){var o=this;return void 0===n&&(n={}),void 0===r&&(r={}),r.__URL__=t,r.__METHOD__=e,new Promise(function(a,u){var s=o.parseParams(n),c={"Content-Type":r.postJson?"application/json":"application/x-www-form-urlencoded"},f=r.dataType||"json";!r.ignoreStatLog&&i.default.I.logJson("SDK Http request 发起网络请求, 路径: "+t+" , 参数: ",s),wx.request({url:t,data:s,method:e,header:c,dataType:f,responseType:"text",success:function(e){o.onSuccess(e.data,a,u,n,r)},fail:function(e){o.onError(e,a,u,n,r)}})})},e.prototype.onSuccess=function(e,t,n,r,o){!o.ignoreStatLog&&i.default.I.logJson("SDK Http onSuccess 网络请求成功, 路径: "+o.__URL__+" , 数据: ",e),this.handleSuccess(e,t,n,r,o)},e.prototype.onError=function(e,t,n,r,o){!o.ignoreStatLog&&i.default.I.warn("SDK Http onError 网络访问失败，路径: "+o.__URL__+"："+JSON.stringify(e));var a=o.retry||1;0<--a?(o.retry=a,this.request(o.__METHOD__,o.__URL__,r,o).then(t).catch(n)):!o.skipError&&this.handleError(e,n)},e.prototype.handleSuccess=function(e,t,n,r,o){var i=o.skipSuccess,a=o.skipError;if(!i&&e&&e.status)t(e.result.data);else{var u=o.retry||1;0<--u?(o.retry=u,this.request(o.__METHOD__,o.__URL__,r,o)):a||(e&&e.result?this.handleError(e.result,n):this.handleError(e,n))}},e.prototype.handleError=function(e,t){var n=-1,r="未知错误哦~";e&&(e.errMsg?(n=e.code,r=e.errMsg):e.code&&e.msg&&(n=e.code,r=e.msg)),t({errCode:n,errMsg:r})},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.data=wx.getLaunchOptionsSync()}return Object.defineProperty(e.prototype,"LaunchData",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this.data.query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scene",{get:function(){return this.data.scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shareTicket",{get:function(){return this.data.shareTicket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"referrerInfo",{get:function(){return this.data.referrerInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=r},function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,fm,gm;fm="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,gm=function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(1<e.length?e.charCodeAt(1):0)<<8|(2<e.length?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),2<=t?"=":b64chars.charAt(n>>>6&63),1<=t?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(0<t?b64tab[e.charAt(0)]<<18:0)|(1<t?b64tab[e.charAt(1)]<<12:0)|(2<t?b64tab[e.charAt(2)]<<6:0)|(3<t?b64tab[e.charAt(3)]:0),o=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return o.length-=[0,0,2,1][n],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}},module.exports=gm(fm)}).call(this,__webpack_require__(32))},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(7),a=n(11),u=n(0),s=function(){function e(){this.aysncShareMap={}}return e.prototype.add=function(e,t){this.aysncShareMap[e]=t},e.prototype.remove=function(e){this.aysncShareMap[e]=null},e.prototype.emit=function(e,t,n){return o.default.I.warn("SDK AsyncShareService notify 参数",e,t,n),t?this.aysncShareMap[t]?e?void i.default.I.checkGroup(e).then(function(e){return a.default.I.emit(t,r({status:1},e,n))}).catch(function(e){return a.default.I.emit(t,r({status:0},e))}):a.default.I.emit(t,r({status:0},u.ShareVideoError.ShareAsyncNotGroup)):o.default.I.warn("SDK AsyncShareService 请调用setData注册"+t):o.default.I.warn("SDK AsyncShareService shareKey不能为空")},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=s},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.EventEnum||(t.EventEnum={})).APP_SHOW="app.show",r.APP_HIDE="app.hide"},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=n(18),a=n(0),u=n(1),s=function(){function e(){}return e.prototype.buidlParams=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0];return n=r({},n,{token:u.default.I.Token,version:u.default.I.Version}),e[0]=n,e},e.prototype.post=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n=this.buidlParams.apply(this,n),(t=i.default.I).post.apply(t,[o.default.I.GamePath+"/"+e].concat(n))},e.prototype.env=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t=this.buidlParams.apply(this,t),(e=i.default.I).post.apply(e,[o.default.I.GameOnline+"/"+a.GameKeys.Env].concat(t))},e.prototype.authedLogin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[a.GameKeys.UserLogin].concat(e))},e.prototype.weakLogin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[a.GameKeys.UserWeakLogin].concat(e))},e.prototype.getAllData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[a.GameKeys.GetAllData].concat(e))},e.prototype.share=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[a.GameKeys.Share].concat(e))},e.prototype.adStat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[a.GameKeys.AdStat].concat(e))},e.prototype.getGoldPool=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[a.GameKeys.GetGoldPool].concat(e))},e.prototype.setInviteFriend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[a.GameKeys.SetInviteFriend].concat(e))},e.prototype.setLookVideoToGold=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[a.GameKeys.SetLookVideoToGold].concat(e))},e.prototype.getPoolGoldByType=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.post.apply(this,[a.GameKeys.GetPoolGoldByType].concat(e))},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(25),a=n(5),u=n(1),s=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.setUp=function(e){u.default.I.setEnvEnum(e.Env||a.EnvCode.Prod)},t.build=function(e){return new t(e)},t}(i.default);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(2),i=n(7),a=n(4),u=n(3),s=n(11),c=n(9),f=n(1),l=n(15),h=function(){function e(e){if(!e)throw new TypeError("SDK 请传递配置！");this.init(e),this._stat=a.default.I,this._data=f.default.I,this._event=s.default.I,this._online=l.default.I,this._config=u.default.I,this._storage=c.default.I,this._platform=i.default.I,this._sdkVersion=r.SDKVersion}return e.prototype.init=function(e){u.default.setUp(e),i.default.setUp(e),this.setUp(e)},Object.defineProperty(e.prototype,"SDKVersion",{get:function(){return this._sdkVersion},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Stat",{get:function(){return this._stat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Event",{get:function(){return this._event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Online",{get:function(){return this._online},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Platform",{get:function(){return this._platform},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Storage",{get:function(){return this._storage},enumerable:!0,configurable:!0}),e.prototype.setDebug=function(e){o.default.I.setDebug(e)},e}();t.default=h},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),u=n(28),s=n(31),c=n(8),f=n(37),l=n(38),h=n(40),d=n(13),p=n(19),y=n(41),g=n(2),b=n(42),v=n(4),_=n(3),m=n(9),I=n(1),S=n(43),P=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.setUp=function(e){m.default.setUp(new y.default),s.default.I.init()},t.prototype.canIUse=function(e){return 0<=c.default.compareVersion(d.default.I.SDKVersion,e)},t.prototype.createUserBtn=function(e,t,n){S.default.I.create(e,t,n)},t.prototype.showUserBtn=function(e){S.default.I.show(e)},t.prototype.hideUserBtn=function(e){S.default.I.hide(e)},t.prototype.destoryUserBtn=function(e){S.default.I.destory(e)},t.prototype.destoryAllUserBtn=function(){S.default.I.destoryAll()},t.prototype.pay=function(e,t){return u.default.I.pay(e,t)},t.prototype.logPay=function(e){var t=_.default.I.config.MidasPay,n=t.OfferId,r=t.ZoneId,o=t.Platform||(0===I.default.I.SystemId?"ios":"android"),a=i({},e,{pf:o,zone_id:r,offer_id:n,change:"微信支付"});return g.default.I.warn("SDK Platform支付 logpay参数",a),v.default.I.logPay(a)},t.prototype.login=function(e){return f.default.I.login(e)},t.prototype.share=function(e,t){return l.default.I.share(e,t)},t.prototype.checkGroup=function(e,t){return void 0===t&&(t={}),l.default.I.checkGroup(e,t)},t.prototype.video=function(e,t){return h.default.I.show(e,t)},t.prototype.isVideoPlaying=function(){return h.default.I.isPlaying},t.prototype.vibrateLong=function(){return a.default.I.vibrateLong()},t.prototype.vibrateShort=function(){return a.default.I.vibrateShort()},t.prototype.updateShareMenu=function(e){a.default.I.updateShareMenu(e)},t.prototype.checkUpdate=function(e){a.default.I.checkUpdate(e)},t.prototype.showModal=function(e){a.default.I.showModal(e)},t.prototype.copy=function(e){return a.default.I.copy(e)},t.prototype.getLaunchData=function(){return p.default.I.LaunchData},t.prototype.navigateToMiniProgram=function(e,t){var n,r;if(void 0===t&&(t={}),n=e.banner_launch_appid?e.banner_launch_appid:e.banner_appid,r=e.banner_path,e.banner_qrcode+""=="1"&&e.banner_qrcode_img){var o=[e.banner_qrcode_img];return a.default.I.previewImage(o,0)}return new Promise(function(o,i){a.default.I.navigateToMiniProgram(n,r,t).then(function(t){g.default.I.warn("打开成功",e),o(t)}).catch(function(t){g.default.I.warn("打开失败",e),i(t)})})},t}(b.default);t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.default=function(){this.token="",this.scene="",this.openId="",this.userId=0,this.regTime=0,this.onlineTime=0,this.launchTime=0,this.shareId=0,this.shareKey="",this.platform="",this.gender=r.Gender.Invalid,this.channelId=0,this.inviteType=0,this.shareTicket="",this.systemId=0,this.launchKey="",this.launchSource=-1,this.authorize=!1,this.cdnUrl="",this.envEnum=r.EnvCode.Prod,this.version="1.0",this.inviteUid=0,this.queryUserInviteUid=0,this.shield=0,this.configParams=null}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),u=n(17),s=n(5),c=n(3),f=n(1),l=function(){function e(){}return e.prototype.pay=function(e,t){var n=this;return void 0===t&&(t={}),new Promise(function(o,i){var u=c.default.I.config.MidasPay,l=u.Mode,h=u.OfferId,d=u.ZoneId,p=u.CurrencyType,y=u.Platform,g=f.default.I.EnvEnum===s.EnvCode.Prod?0:1,b=y||(0===f.default.I.SystemId?"ios":"android");a.default.I.requestMidasPayment({mode:l,env:g,platform:b,offerId:h,currencyType:p,buyQuantity:e.money,zoneId:d}).then(function(){return n.handlePaySuccess(r({},e,{platform:b}),t,o,i)}).catch(function(e){return n.handlePayError(e,i)})})},e.prototype.handlePaySuccess=function(e,t,n,s){return o(this,void 0,void 0,function(){var o,c,f=this;return i(this,function(i){switch(i.label){case 0:return[4,a.default.I.login()];case 1:return o=i.sent(),c=r({},this.buildParams(),t,{code:o,amt:e.money,pf:e.platform,item_name:e.desc}),u.default.I.pay(c).then(function(e){return n(e)}).catch(function(e){return f.handlePayError(e,s)}),[2]}})})},e.prototype.handlePayError=function(e,t){t(e)},e.prototype.buildParams=function(){return{openid:f.default.I.OpenId,user_id:f.default.I.UserId,game_id:c.default.I.config.GameId,channel_id:f.default.I.ChannelId}},Object.defineProperty(e,"I",{get:function(){return this._instance||(this._instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),o=n(3),i=function(){function e(){}return Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e.prototype.createSign=function(e){var t=this.createQuery(e)+"&"+o.default.I.config.Secret;return r.default.I.hex_sha1(t)},e.prototype.ksort=function(e){var t,n,r,o={},i=[],a={};for(r in t=function(e,t){var n=parseFloat(e),r=parseFloat(t),o=n+""===e,i=r+""===t;return o&&i?r<n?1:n<r?-1:0:o&&!i?1:!o&&i?-1:t<e?1:e<t?-1:0},e)e.hasOwnProperty(r)&&i.push(r);for(i.sort(t),n=0;n<i.length;n++)o[r=i[n]]=e[r];for(n in o)o.hasOwnProperty(n)&&(a[n]=o[n]);return a},e.prototype.createQuery=function(e){e=e||{};for(var t=Object.keys(this.ksort(e)),n="",r="",o=0,i=t.length;o<i;o++)o&&(r+="&"),r+=(n=t[o])+"="+e[n];return r},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e.prototype.init=function(e){this.blockstart=null,this.W=new Array(80),this.H0=1732584193,this.H1=4023233417,this.H2=2562383102,this.H3=271733878,this.H4=3285377520,this.A=this.B=this.C=this.D=this.E=this.temp=this.msg=this.msg_len=null,this.word_array=[],this.msg=this.Utf8Encode(e),this.msg_len=this.msg.length;for(var t=0;t<this.msg_len-3;t+=4){var n=this.msg.charCodeAt(t)<<24|this.msg.charCodeAt(t+1)<<16|this.msg.charCodeAt(t+2)<<8|this.msg.charCodeAt(t+3);this.word_array.push(n)}this.initMsg(this.msg_len)},e.prototype.initMsg=function(e){var t;switch(e%4){case 0:t=2147483648;break;case 1:t=this.msg.charCodeAt(e-1)<<24|8388608;break;case 2:t=this.msg.charCodeAt(e-2)<<24|this.msg.charCodeAt(e-1)<<16|32768;break;case 3:t=this.msg.charCodeAt(e-3)<<24|this.msg.charCodeAt(e-2)<<16|this.msg.charCodeAt(e-1)<<8|128}for(this.word_array.push(t);this.word_array.length%16!=14;)this.word_array.push(0);this.word_array.push(e>>>29),this.word_array.push(e<<3&4294967295),this.getTemp()},e.prototype.getTemp=function(){for(this.blockstart=0;this.blockstart<this.word_array.length;this.blockstart+=16){for(var e=0;e<16;e++)this.W[e]=this.word_array[this.blockstart+e];for(e=16;e<=79;e++)this.W[e]=this.rotate_left(this.W[e-3]^this.W[e-8]^this.W[e-14]^this.W[e-16],1);for(this.A=this.H0,this.B=this.H1,this.C=this.H2,this.D=this.H3,this.E=this.H4,e=0;e<=19;e++)this.temp=this.rotate_left(this.A,5)+(this.B&this.C|~this.B&this.D)+this.E+this.W[e]+1518500249&4294967295,this.E=this.D,this.D=this.C,this.C=this.rotate_left(this.B,30),this.B=this.A,this.A=this.temp;for(e=20;e<=39;e++)this.temp=this.rotate_left(this.A,5)+(this.B^this.C^this.D)+this.E+this.W[e]+1859775393&4294967295,this.E=this.D,this.D=this.C,this.C=this.rotate_left(this.B,30),this.B=this.A,this.A=this.temp;for(e=40;e<=59;e++)this.temp=this.rotate_left(this.A,5)+(this.B&this.C|this.B&this.D|this.C&this.D)+this.E+this.W[e]+2400959708&4294967295,this.E=this.D,this.D=this.C,this.C=this.rotate_left(this.B,30),this.B=this.A,this.A=this.temp;for(e=60;e<=79;e++)this.temp=this.rotate_left(this.A,5)+(this.B^this.C^this.D)+this.E+this.W[e]+3395469782&4294967295,this.E=this.D,this.D=this.C,this.C=this.rotate_left(this.B,30),this.B=this.A,this.A=this.temp;this.H0=this.H0+this.A&4294967295,this.H1=this.H1+this.B&4294967295,this.H2=this.H2+this.C&4294967295,this.H3=this.H3+this.D&4294967295,this.H4=this.H4+this.E&4294967295}},e.prototype.hex_sha1=function(e){return this.init(e),(this.cvt_hex(this.H0)+this.cvt_hex(this.H1)+this.cvt_hex(this.H2)+this.cvt_hex(this.H3)+this.cvt_hex(this.H4)).toLowerCase()},e.prototype.rotate_left=function(e,t){return e<<t|e>>>32-t},e.prototype.lsb_hex=function(e){var t,n,r="";for(t=0;t<=6;t+=2)n=e>>>4*t&15,r+=(e>>>4*t+4&15).toString(16)+n.toString(16);return r},e.prototype.cvt_hex=function(e){var t,n="";for(t=7;0<=t;t--)n+=(e>>>4*t&15).toString(16);return n},e.prototype.Utf8Encode=function(e){void 0===e&&(e=""),e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):(127<r&&r<2048?t+=String.fromCharCode(r>>6|192):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128)),t+=String.fromCharCode(63&r|128))}return t},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=n(13),i=n(10),a=n(2),u=n(4),s=n(3),c=n(1),f=n(12),l=n(11),h=n(22),d=n(0),p=n(21),y=function(){function e(){this.onlineTime=0,wx.onShow(this.onShow.bind(this)),wx.onHide(this.onHide.bind(this))}return e.prototype.init=function(){var e=o.default.I.SystemData.platform,t=r.default.I.LaunchData,n=t.scene,i=t.referrerInfo,l=t.query,h=l.invite_type,p=l.channelId,y=l.channel_id,g=l.td_channelid,b=l.channel,v=l.share_id,_=l.share_key,m=l.user_invite_uid,I=p||y||b||g;a.default.I.warn("SDK wxinit launchData：",f.default.parseJson2String(t)),a.default.I.warn("SDK wxinit scene：",n),a.default.I.warn("SDK wxinit referrerInfo",i),a.default.I.warn("SDK wxinit share_id：",v),a.default.I.warn("SDK wxinit share_key：",_),a.default.I.warn("SDK wxinit channelId：",I),a.default.I.warn("SDK wxinit invite_type：",h),a.default.I.warn("SDK wxinit query user_invite_uid：",m),c.default.I.setScene(n).setReferrerInfo(i||{}).setShareId(v).setPlatform(e).setShareKey(_).setChannelId(I||s.default.I.config.ChannelId).setInviteType(h).setQueryUserInviteUid(m||0).setSystemId().setLaunchKey().setLaunchSource();var S=[d.SceneCode.WX_SHARE_FRIEND,d.SceneCode.WX_SHARE_GROUP,d.SceneCode.WX_SHARE_TICKET];!I&&0<=S.indexOf(n)&&u.default.I.dot(d.SDKDotType.Share),v&&u.default.I.shareStat(v,1,1)},e.prototype.onShow=function(e){var t=i.default.nowTime;this.onlineTime=t;var n=e.scene,r=e.shareTicket,o=e.query,u=o.share_key,s=o.share_id,d=o.invite_type;a.default.I.warn("SDK onShow 参数：",f.default.parseJson2String(e)),a.default.I.warn("SDK onShow scene：",n),a.default.I.warn("SDK onShow share_id：",s),a.default.I.warn("SDK onShow share_key：",u),a.default.I.warn("SDK onShow shareTicket：",r),a.default.I.warn("SDK onShow invite_type：",d),c.default.I.setScene(n).setShareId(s).setShareKey(u).setInviteType(d).setShareTicket(r).setOnlineTime(t).setLaunchTime(t).setLaunchSource(),s&&c.default.I.UserId&&p.default.I.emit(r,u,{share_id:s}),l.default.I.emit(h.EventEnum.APP_SHOW,e)},e.prototype.onHide=function(){if(l.default.I.emit(h.EventEnum.APP_HIDE),this.onlineTime){var e=i.default.nowTime-this.onlineTime;u.default.I.onlineTimelen(Math.floor(e/1e3)),this.onlineTime=0,c.default.I.setOnlineTime(0)}u.default.I.bannerExposure(),u.default.I.syncLogRes(),u.default.I.syncLogLevel()},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=y},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),u=n(1),s=n(7),c=n(2),f=n(15),l=n(12),h=n(34),d=n(3),p=n(11),y=n(0),g=n(21),b=n(5),v=n(16),_=function(){function e(){this.shareForwardKey="",this.shareObjs={}}return e.prototype.init=function(e){this.shareForwardKey=e},e.prototype.reqShareList=function(){var e=this;a.default.I.shareList().then(function(t){e.setShareData(t),e.shareForwardKey&&e.forward(e.shareForwardKey)})},e.prototype.share=function(e,t,n){var o=this;return void 0===t&&(t={}),void 0===n&&(n={}),new Promise(function(i,u){var f=n.__shareData||o.getShareData(e),h=f.share_id,d=f.share_desc,p=f.share_icon,y=o.createQuery(r({},t,{share_id:h,share_key:e}));d=n.shareTitle||d;var g={title:d=l.default.stringFormat(d,n.formater),imageUrl:n.shareImg||p,query:y};c.default.I.warn("SDK ShareService share",n.shareForward?"右上角分享：":"主动拉起分享：",g,y),s.default.I.share(g,n).then(function(t){n.__GROUP||(v.default.I.add(v.TempDataKeys.ShareSuccess,1),h&&a.default.I.shareStat(t.share_id,0,0)),i(r({},t,{share_id:h,share_key:e}))}).catch(function(t){return u(r({},t,{share_id:h,share_key:e}))})})},e.prototype.image=function(e,t,n,o){return void 0===n&&(n={}),void 0===o&&(o={}),this.share(e,n,r({},o,{shareImg:t}))},e.prototype.forward=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),this.share(e,t,r({},n,{shareForward:!0}))},e.prototype.group=function(e,t,n){var u=this;return void 0===t&&(t={}),void 0===n&&(n={}),new Promise(function(c,l){return o(u,void 0,void 0,function(){var o,u,h,d;return i(this,function(i){switch(i.label){case 0:return 1!==f.default.I.getParamsInt("share_unlock",1)?[2,c({status:0})]:[4,this.share(e,t,r({},n,{__GROUP:!0})).catch(function(e){o=null,l(r({},y.ShareVideoError.ShareFail))})];case 1:return(o=i.sent())?(u=o.shareTickets,h=o.share_id,u&&u.length?"simulate_ticket"===(d=u[0])?(h&&a.default.I.shareStat(h,0,0),[2,c(r({status:1,simulate:!0},o))]):(s.default.I.checkGroup(d).then(function(){h&&a.default.I.shareStat(h,0,0),c(r({status:1},o))}).catch(function(e){l(r({},e))}),[2]):[2,l(r({},y.ShareVideoError.ShareNotGroup))]):[2]}})})})},e.prototype.shareDispatch=function(e,t){void 0===t&&(t={});var n=this.getShareData(e),o=n.share_open,i=n.share_wxad_id;t=r({},t,{share_wxad_id:i,__shareData:n}),this.shareWithType(+o,e,t)},e.prototype.shareWithType=function(e,t,n){var r=this;void 0===n&&(n={});var o=n.share_wxad_id||(n.__shareData||this.getShareData(t)||{}).share_wxad_id;switch(e){case b.ShareType.None:this.handleSuccess(n,b.ShareVideoFrom.None,null);break;case b.ShareType.Share:if(n.shareAutoVideo&&o){this.shareWithType(b.ShareType.VideoToShare,t,n);break}this.group(t,null,n).then(function(e){return r.handleSuccess(n,b.ShareVideoFrom.Share,e)}).catch(function(e){return r.handleFail(n,b.ShareVideoFrom.Share,e)});break;case b.ShareType.ShareAysnc:this.shareAsync(t,null,n).then(function(e){return r.handleSuccess(n,b.ShareVideoFrom.ShareAysnc,e)}).catch(function(e){return r.handleSuccess(n,b.ShareVideoFrom.ShareAysnc,e)});break;case b.ShareType.Video:s.default.I.video(t,o).then(function(e){return r.handleSuccess(n,b.ShareVideoFrom.Video,e)}).catch(function(e){return r.handleFail(n,b.ShareVideoFrom.Video,e)});break;case b.ShareType.VideoToShare:if(!o)return void this.group(t,null,n).then(function(e){return r.handleSuccess(n,b.ShareVideoFrom.Share,e)}).catch(function(e){return r.handleFail(n,b.ShareVideoFrom.Share,e)});s.default.I.video(t,o).then(function(e){return r.handleSuccess(n,b.ShareVideoFrom.Video,e)}).catch(function(e){var o=y.ShareVideoError.VideoFail,i=y.ShareVideoError.VideoInvalid,a=y.ShareVideoError.VideoNotOpen;!e||e.code!==o.code&&e.code!==i.code&&e.code!==a.code?r.handleFail(n,b.ShareVideoFrom.Video,e):r.group(t,null,n).then(function(e){return r.handleSuccess(n,b.ShareVideoFrom.Share,e)}).catch(function(e){return r.handleFail(n,b.ShareVideoFrom.Share,e)})})}},e.prototype.onceAsync=function(e,t,n){c.default.I.warn("SDK ShareService onceAsync 注册一次异步分享监听"+e),p.default.I.once(e,t,n)},e.prototype.triggerAsync=function(e,t,n){void 0===n&&(n={}),c.default.I.warn("SDK ShareService triggerAsync 触发异步分享监听"+e+"-"+t),g.default.I.emit(t,e,n),g.default.I.remove(e)},e.prototype.shareAsync=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var o=n.__shareData&&this.getShareData(e),i=o.share_id,a=o.share_key;return g.default.I.add(e,{share_id:i,share_key:a}),this.share(e,t,r({},n))},e.prototype.handleSuccess=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e.success||function(){},o=e.context||this,i=t&&t[0];"function"==typeof r&&r.call.apply(r,[o].concat(t)),i===b.ShareVideoFrom.Share&&v.default.I.add(v.TempDataKeys.ShareSuccess,1)},e.prototype.handleFail=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e.fail||function(){},o=e.context||this;r&&r.call.apply(r,[o].concat(t))},e.prototype.setShareData=function(e){var t=this;(e.share_list||[]).forEach(function(e){t.shareObjs[e.share_key]=t.shareObjs[e.share_key]||[],t.shareObjs[e.share_key].push(e)})},e.prototype.getShareData=function(e){var t=this.shareObjs[e];if(t)return t[h.default.rand(0,t.length)];var n=d.default.I.config.ShareData;if(!n)throw new TypeError("SDK ShareService - 请在config.js中配置ShareData");return r({},n,{share_id:99999,share_open:b.ShareType.Share})},e.prototype.createQuery=function(e){void 0===e&&(e={}),e=r({},e,{channel_id:u.default.I.ChannelId,user_invite_uid:u.default.I.UserId});var t="";for(var n in e)t.length&&(t+="&"),t+=n+"="+e[n];return t},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.randomArray=function(e){return e[Math.floor(Math.random()*e.length)]},e.rand=function(e,t){return e=e||0,t=t||1e4,Math.floor(1e4*Math.random())%(t-e)+e},e.rang=function(e,t){return Math.round(Math.random()*(t-e)+e)},e.randFloat=function(e,t){return parseFloat((Math.random()*(t-e)+e).toFixed(2))},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(36),i=function(){function e(){this._adVtCache=o.default.I.getAdVt()||{},this._adMvCache=o.default.I.getAdMv()||{}}return e.prototype.sortAdList=function(e){if(!e||0===e.length)return[];var t=e[0].banner_type,n=!!this.getVtByType(t);return this.initVt2Cache(t,e),n?this.getListByVtAndMv(t,e):e},e.prototype.updateClickAd=function(e,t){e&&(e.banner_game_type+""=="1"?this.refreshMv2Cache(e,t):this.refreshVt2Cache(e,t))},e.prototype.initVt2Cache=function(e,t){var n=this.getVtByType(e)||{},o=r.default.now/1e10;t.forEach(function(e){var t=e.banner_id;n[t]||(n[t]={vt:0,id:t,t:o,s:100-(+e.banner_sort||0)})}),this.syncVt2Local(e,n)},e.prototype.getListByVtAndMv=function(e,t){var n=this.getVtByType(e),r=this.getMvByType(e),o=t.map(function(e){return e.banner_vt=n[e.banner_id].vt||0,e.banner_sort=n[e.banner_id].s||0,e.banner_vt_time=n[e.banner_id].t||0,e});return r&&(o=o.filter(function(e){return!r[e.banner_id]})),o.sort(function(e,t){return e.banner_vt+e.banner_sort/1e3+e.banner_vt_time-(t.banner_vt+t.banner_sort/1e3+t.banner_vt_time)}),o},e.prototype.refreshVt2Cache=function(e,t){var n=e.banner_id,o=e.banner_type,i=this.getVtByType(o);if(i&&i[n]){var a=i[n].t;i[n].t=t?(i[n].vt++,r.default.now/1e10):(i[n].vt--,a),this.syncVt2Local(o,i)}},e.prototype.refreshMv2Cache=function(e,t){var n=e.banner_id,r=e.banner_type,o=this.getMvByType(r)||{};o[n]||(t?o[n]=1:delete o[n],this.syncMv2Local(r,o))},e.prototype.getVtByType=function(e){return this._adVtCache[e]},e.prototype.getMvByType=function(e){return this._adMvCache[e]},e.prototype.syncVt2Local=function(e,t){this._adVtCache[e]=t,o.default.I.saveAdVt(this._adVtCache)},e.prototype.syncMv2Local=function(e,t){this._adMvCache[e]=t,o.default.I.saveAdMv(this._adMvCache)},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(0),i=n(9),a=function(){function e(){}return e.prototype.getValueWithKey=function(e,t){var n=t||r.default.today,o=i.default.I.get(e);return o&&o[n]||null},e.prototype.getDefaultWithKey=function(e){return!i.default.I.isExist(e)||i.default.I.get(e)},e.prototype.getAdVt=function(){return this.getValueWithKey(o.StorageKeys.SDKAdVtKey)},e.prototype.saveAdVt=function(e,t){var n,a=o.StorageKeys.SDKAdVtKey,u=t||r.default.today;i.default.I.set(a,((n={})[u]=e,n))},e.prototype.getAdMv=function(){return i.default.I.get(o.StorageKeys.SDKAdMvKey)},e.prototype.saveAdMv=function(e){var t=o.StorageKeys.SDKAdMvKey;i.default.I.set(t,e)},Object.defineProperty(e,"I",{get:function(){return this._instance||(this._instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=a},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),u=n(6),s=n(23),c=n(0),f=n(4),l=n(3),h=n(1),d=function(){function e(){}return e.prototype.login=function(e){return o(this,void 0,void 0,function(){var t=this;return i(this,function(n){return[2,new Promise(function(n,r){return o(t,void 0,void 0,function(){var t,o=this;return i(this,function(i){switch(i.label){case 0:return[4,u.default.I.login()];case 1:return t=i.sent(),e&&h.default.I.setToken(""),u.default.I.getUserinfo().then(function(e){return o.authedlogin(e,t,n,r)}).catch(function(e){return o.weakLogin(e,t,n,r)}),[2]}})})})]})})},e.prototype.authedlogin=function(e,t,n,u){return o(this,void 0,void 0,function(){var o,c,f,l,d,p,y=this;return i(this,function(i){return o=e.rawData,c=e.iv,f=e.encryptedData,l=e.signature,d=e.userInfo,p=r({},this.buildParams(),{code:t,signature:l,iv:encodeURIComponent(c),raw_data:encodeURIComponent(a.Base64.encode(o)),encrypted_data:encodeURIComponent(f)}),d&&h.default.I.setGender(d.gender),s.default.I.authedLogin(p).then(function(e){y.handleLogin(e,n,!0),n(e)}).catch(function(e){return u(e)}),[2]})})},e.prototype.weakLogin=function(e,t,n,a){return o(this,void 0,void 0,function(){var o,u,f=this;return i(this,function(i){return e&&e.errCode!==c.ErrorCode.InvalidLogin.code&&(o=h.default.I.ReferrerInfo,u=r({},this.buildParams(),{scene:h.default.I.Scene||0,refAppId:o.appId||0,code:t}),s.default.I.weakLogin(u).then(function(e){f.handleLogin(e,n,!1)}).catch(function(e){return a(e)})),[2]})})},e.prototype.handleLogin=function(e,t,n){if(e){if(e.user_ext_data){var r=e.user_ext_data,o=r.user_id,i=r.user_channel,a=r.user_reg_time,u=r.user_invite_uid;f.default.I.setLogind({userId:o,regTime:a,channelId:i,inviteUid:u})}if(e.user_base_data){var s=e.user_base_data,c=s.user_token,l=s.user_openid;h.default.I.setToken(c||""),f.default.I.setLogind({openId:l})}}var d=h.default.I.ShareId;d&&(f.default.I.shareStat(d,1,2),h.default.I.setShareId(0)),h.default.I.setAuthorize(n),this.handleActive(),t&&t(e),f.default.I.login(2)},e.prototype.handleActive=function(){l.default.I.config.IsAutoActive&&f.default.I.active()},e.prototype.buildParams=function(){return{channel_id:h.default.I.ChannelId,invite_type:h.default.I.InviteType,invite_res_id:0,user_invite_uid:h.default.I.QueryUserInviteUid}},Object.defineProperty(e,"I",{get:function(){return this._instance||(this._instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=d},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),u=n(23),s=n(0),c=n(39),f=function(){function e(){this.shareSimulate=!0}return e.prototype.share=function(e,t){var n=this;return void 0===t&&(t={}),new Promise(function(r,o){var i={title:e.title,imageUrl:e.imageUrl,query:e.query,success:function(e){r(e)},fail:function(e){o(e)},cancel:function(){o(null)}};n.shareSimulate&&!t.closeSimulate&&n.simulate(i),t.shareForward?a.default.I.showShareMenu(i):a.default.I.shareAppMessage(i)})},e.prototype.checkGroup=function(e,t){var n=this;return void 0===t&&(t={}),new Promise(function(c,f){return o(n,void 0,void 0,function(){var n,o,l,h;return i(this,function(i){switch(i.label){case 0:return[4,a.default.I.login()];case 1:return n=i.sent(),[4,a.default.I.getShareInfo(e)];case 2:return o=i.sent(),l=o.encryptedData,h=o.iv,t=r({},t,{code:n,encrypted_data:encodeURIComponent(l),iv:encodeURIComponent(h)}),u.default.I.share(t).then(function(e){if(e&&e.share_data){var t=e.share_data;t.share_is_valid+""=="1"?c(t):f(r({},s.ShareVideoError.ShareSame))}else c(null)}).catch(function(e){return c(null)}),[2]}})})})},e.prototype.simulate=function(e){c.default.I.bind(e)},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(2),i=n(22),a=n(11),u=function(){function e(){this.hideTime=0,this.delayTime=300,this.successDiff=2e3}return e.prototype.bind=function(e){o.default.I.warn("SDK SimulateShare bind");var t=e.success,n=e.fail,r=e.cancel,u=!0;e.success=function(e){u&&t(e),u=!1},e.fail=function(e){u&&n(e),u=!1},e.cancel=function(e){u&&r(e),u=!1},this.hideTime=0,this.callbacks=e,a.default.I.add(i.EventEnum.APP_SHOW,this.onShow,this),a.default.I.add(i.EventEnum.APP_HIDE,this.onHide,this)},e.prototype.clear=function(){this.hideTime=0,a.default.I.remove(i.EventEnum.APP_SHOW,this.onShow,this),a.default.I.remove(i.EventEnum.APP_HIDE,this.onHide,this)},e.prototype.onHide=function(){o.default.I.warn("SDK SimulateShare hide"),this.hideTime=(new Date).getTime()},e.prototype.onShow=function(){o.default.I.warn("SDK SimulateShare show");var e,t=this.callbacks,n=t.success,i=t.fail,a=r.default.nowTime-this.hideTime;e=a<this.successDiff?setTimeout(function(){o.default.I.warn("SDK SimulateShare 模拟分享失败！"),i&&i({errMsg:"模拟分享失败！"}),clearTimeout(e),e=null},this.delayTime):setTimeout(function(){o.default.I.warn("SDK SimulateShare 模拟分享成功！"),n&&n({errMsg:"模拟分享成功！",shareTickets:["simulate_ticket"]}),clearTimeout(e),e=null},this.delayTime),this.clear()},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=u},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(5),a=n(2),u=n(0),s=n(4),c=n(16),f=function(){function e(){this.isPlay=!1,this.isErrored=!1,this.videoKey=""}return Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.isPlay},enumerable:!0,configurable:!0}),e.prototype.show=function(e,t){var n=this;return new Promise(function(i,s){if(n.isPlaying)return s(r({},u.ShareVideoError.VideoPlaying));if(!t)return s(r({},u.ShareVideoError.VideoInvalid));var c=o.default.I.createRewardedVideoAd(t);if(!c)return s(r({},u.ShareVideoError.VideoNotOpen));n.isPlay=!0,n.isErrored=!1,n.videoKey=e,n.resolve=i,n.reject=s,(n.videoAd=c).onClose(n.handleClose),c.onError(n.onError),c.load().then(function(){return n.handleLoaded()}),a.default.I.warn("请求视频adUnitId",t)})},e.prototype.onError=function(t){var n=e.I;!n.isErrored&&n.handleError(t)},e.prototype.handleLoaded=function(){e.I.videoAd.show(),c.default.I.add(c.TempDataKeys.VideoShow,1)},e.prototype.handleClose=function(t){a.default.I.warn("广告关闭",t&&t.isEnded||void 0===t);var n=e.I;t&&t.isEnded||void 0===t?(c.default.I.add(c.TempDataKeys.VideoFinish,1),s.default.I.videoStat(n.videoKey,i.VideoStat.Success),n.resolve&&n.resolve()):(s.default.I.videoStat(n.videoKey,i.VideoStat.Quit),n.reject&&n.reject(r({},u.ShareVideoError.VideoQuit))),n.videoAd.offClose(n.handleClose),n.isPlay=!1,n.isErrored=!1},e.prototype.handleError=function(t){a.default.I.warn("加载视频广告失败",t);var n=e.I;s.default.I.videoStat(n.videoKey,i.VideoStat.Fail),n.reject&&n.reject(r({},u.ShareVideoError.VideoFail)),n.videoAd.offClose(n.handleClose),n.isPlay=!1,n.isErrored=!0},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.getItem=function(e){return wx.getStorageSync(e)},e.prototype.setItem=function(e,t){wx.setStorageSync(e,t)},e.prototype.removeItem=function(e){wx.removeStorageSync(e)},e.prototype.clear=function(){wx.clearStorageSync()},e.prototype.hasKey=function(e){var t=wx.getStorageInfoSync().keys,n=[];return t&&t.length&&(n=t.filter(function(t){return t===e})),0!==n.length},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.canIUse=function(e){return!0},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=n(1),a=n(44),u=function(){function e(){this.btnMap={}}return e.prototype.create=function(e,t,n){var r,u=this;i.default.I.Authorize||o.default.covertArray(t).map(function(t){(r=new a.default).init(t,u.handleOpts(n)),u.btnMap[e]=u.btnMap[e]||[],u.btnMap[e].push(r)})},e.prototype.handleOpts=function(e){var t=this,n=e.callback,o=e.context;return r({},e,{callback:function(e,r){1===e&&t.destoryAll(),n.call(o,e,r)},context:this})},e.prototype.show=function(e){var t=this.btnMap[e];t&&0!==t.length&&t.map(function(e){return e.show()})},e.prototype.hide=function(e){var t=this.btnMap[e];t&&0!==t.length&&t.map(function(e){return e.hide()})},e.prototype.destory=function(e){var t=this.btnMap[e];t&&0!==t.length&&(t.map(function(e){return e.destory()}),this.btnMap[e]=[])},e.prototype.destoryAll=function(){for(var e in this.btnMap)this.destory(e)},Object.defineProperty(e,"I",{get:function(){return this.instance||(this.instance=new e)},enumerable:!0,configurable:!0}),e}();t.default=u},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(4),a=function(){function e(){this.button=null,this.callback=function(){},e.I=this}return e.prototype.init=function(e,t){return this.create(e,t),this.bind(),this},e.prototype.show=function(){this.button&&this.button.show()},e.prototype.hide=function(){this.button&&this.button.hide()},e.prototype.destory=function(){this.unbind(),this.button&&this.button.destroy()},e.prototype.create=function(e,t){var n=r({fontSize:16,lineHeight:40,borderRadius:4,textAlign:"center",backgroundColor:t.isDebug?"rgb(0,0,0)":"rgba(0,0,0,0)"},e.style);e="text"===e.type?r({},e,{style:n,text:""}):r({},e,{style:n}),this.button=o.default.I.createUserInfoButton(e),this.callback=t.callback||function(){},this.context=t.context},e.prototype.bind=function(){this.button&&this.button.onTap(this.handleTap)},e.prototype.unbind=function(){this.button&&this.button.offTap(this.handleTap)},e.prototype.handleTap=function(t){var n=e.I;"getUserInfo:ok"===t.errMsg?(n.hide(),n.handleCallback(1,t)):(i.default.I.refuseAuth(),n.handleCallback(-1,null),wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]?(n.hide(),o.default.I.getUserinfo().then(function(e){return n.handleCallback(1,e)})):n.openConfirm()},fail:function(e){return n.handleCallback(0,null)}}))},e.prototype.openConfirm=function(){var t=e.I;o.default.I.showModal({content:"检测到您没有开启微信授权\r\n是否前往设置界面开启?",success:function(e){e.confirm?wx.openSetting({success:function(e){e.authSetting["scope.userInfo"]&&(t.hide(),o.default.I.getUserinfo().then(function(e){return t.handleCallback(1,e)}))},fail:function(e){t.handleCallback(0,null)}}):t.handleCallback(0,null)}})},e.prototype.handleCallback=function(e,t){this.callback.call(this.context,e,t)},e}();t.default=a}])});